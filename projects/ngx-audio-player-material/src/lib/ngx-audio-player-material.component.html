<mat-toolbar [color]="color" *ngIf="(status$ | async)">
  <div *ngIf="poster" [style.background-image]="'url('+poster+')'"
       class="poster"></div>
  <button [color]="btnColor" (click)="play()" *ngIf="(status$ | async).paused" mat-icon-button>
    <mat-icon>play_arrow</mat-icon>
  </button>
  <button [color]="btnColor" (click)="pause()" *ngIf="!(status$ | async).paused" mat-icon-button>
    <mat-icon>pause</mat-icon>
  </button>
  <div class="time-view">
    {{(status$ | async).currentTime | timeFormat}} /
    {{(status$ | async).duration | timeFormat}}
  </div>
  <div class="progress-container">
    <mat-slider [color]="btnColor" (change)="seek($event)" (mousedown)="pause()" (mouseup)="play()" [max]="(status$ | async).duration"
                [value]="(status$ | async).currentTime" style="width: 100%;"></mat-slider>
  </div>
  <div class="volume-container">
    <button [color]="btnColor" [matMenuTriggerFor]="volumeMenu" mat-icon-button matSuffix>
      <mat-icon>{{ (status$ | async).muted ? 'volume_off' : 'volume_up'}}</mat-icon>
    </button>
    <mat-menu #volumeMenu class="volume-menu">
      <button (click)="muteToggle()" mat-menu-item>
        <mat-icon>{{ (status$ | async).muted ? 'volume_off' : 'volume_up'}}</mat-icon>
      </button>
      <mat-slider [color]="color" (change)="changeVolume($event)" [value]="(status$ | async).volume * 100"
                  vertical="vertical"></mat-slider>
    </mat-menu>
  </div>
</mat-toolbar>
<audio #audioElement [src]="src"></audio>
